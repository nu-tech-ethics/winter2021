---
layout: default
---
{{content}}
<section class="schedule">
    <!-- gets a distinct list of dates from lectures and assignments -->
    {% assign everything = site.assignments | concat: site.lectures %}
    {% assign dates = everything | sort: 'due_date'| map: 'due_date' | uniq %}

    <p>
        Note: This schedule is subject to change (as needed).
    </p>

    <table>
        
        <tbody>
            
        {% assign last_week = 0 %}
        {% for date in dates %}
            {% assign lecture = site.lectures | where: 'due_date', date | last %}
            <!-- Calculate the Week -->
            {% assign dateStart = site.term_start_date | date: '%s' %}
            {% assign lectureDate = date | date: '%s' %}
            {% assign diffSeconds = lectureDate | minus: dateStart %}
            {% assign diffDays = diffSeconds | divided_by: 3600 | divided_by: 24 | plus: 1 %}
            {% assign week = diffDays | divided_by: 7 | plus: 1 %}
        
            <tr>
                {% if lecture %}

                    <td>
                        {% assign className = 'lec' %}
                        {% if lecture.type == 'tutorial' or lecture.type == 'lecture' %}
                            <h2>{{ lecture.title }}</h2>
                        {% endif %}
                        {% if lecture.details.first %}
                            <ul>
                                <li>
                                    {{ lecture.details | join: "</li><li>" }}
                                </li>
                            </ul>
                        {% else %}
                            <p>{{ lecture.details }}</p>
                        {% endif %}

                    {% if lecture.readings %}
                        {% assign page = lecture %}
                        {% include page_readings.html %} 
                    {% endif %}
                    </td>
                {% endif %}
                
            </tr>
            {% assign last_week = week %}
        {% endfor %}
        </tbody>
    </table>

</section>
<!-- {% if site.deadline_reminder %}
<script>
    /* 
        Script for calculating # of days until assignment due.
        Note: Can't use Jekyll b/c it doesn't compile every time.
    */
    const trs = document.querySelectorAll('tr');
    for (tr of trs) {
        const dateElement = tr.querySelector('.due-date');
        if (dateElement) {
            const dateString = dateElement.innerHTML;
            const dueDate = new Date(dateString);
            const numDays = (dueDate - new Date()) / (1000 * 3600 * 24);
            if (numDays < 0) {
                tr.classList.add('passed');
            }
        }
    }
</script>
{% endif %} -->